(this["webpackJsonpcalculadora-toldos"]=this["webpackJsonpcalculadora-toldos"]||[]).push([[0],{25:function(e,a,t){},26:function(e,a,t){},27:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},40:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t.n(c),l=t(20),o=t.n(l),s=(t(25),t(13)),r=t(8),i=(t(26),t(41)),d=(t(27),t(2)),j=function(e){var a=Object(c.useState)(""),t=Object(r.a)(a,2),n=t[0],l=t[1],o=Object(c.useState)(!1),j=Object(r.a)(o,2),b=j[0],u=j[1],h=Object(c.useState)({total:!0,lona:!0,enrolle:!0,caracola:!0,vuelo:!0}),O=Object(r.a)(h,2),x=O[0],m=O[1],f=function(a){var t=a.target.name,c=+a.target.value.trim()||0,l=e.runData(n,t,c);for(var o in e.setDatos(Object(s.a)(Object(s.a)({},e.data),{},{total:l.total,lona:l.lona,enrolle:l.enrolle,caracola:l.caracola,vuelo:l.vuelo})),x)x[o]=o!==t&&c;u(c>0)};return Object(d.jsx)("div",{className:"form",children:Object(d.jsxs)(i.a,{className:"d-flex flex-column justify-content-around align-items-center",children:[Object(d.jsxs)(i.a.Group,{className:"m-3 selectToldo",children:[Object(d.jsx)(i.a.Label,{children:"Tipo de toldo"}),Object(d.jsxs)(i.a.Control,{as:"select",name:"toldo",onChange:function(e){var a=e.target.value;l(a),a&&m({total:!1,lona:!1,enrolle:!1,caracola:!1,vuelo:!1})},disabled:b,children:[Object(d.jsx)("option",{disabled:!0,selected:!0,children:"Elige un tipo de toldo"},"default"),e&&e.config&&Object.keys(e.config).map((function(a){return Object(d.jsx)("option",{value:a,children:e.config[a].name},a)}))]})]}),Object(d.jsxs)("div",{className:"d-flex",children:[Object(d.jsxs)(i.a.Group,{className:"m-3",children:[Object(d.jsx)(i.a.Label,{children:"Total"}),Object(d.jsx)(i.a.Control,{name:"total",type:"number",placeholder:"Total",onChange:f,disabled:x.total})]}),Object(d.jsxs)(i.a.Group,{className:"m-3",children:[Object(d.jsx)(i.a.Label,{children:"Lona"}),Object(d.jsx)(i.a.Control,{name:"lona",type:"number",placeholder:"Lona",onChange:f,disabled:x.lona})]}),Object(d.jsxs)(i.a.Group,{className:"m-3",children:[Object(d.jsx)(i.a.Label,{children:"Enrolle"}),Object(d.jsx)(i.a.Control,{name:"enrolle",type:"number",placeholder:"Enrolle",onChange:f,disabled:x.enrolle})]}),Object(d.jsxs)(i.a.Group,{className:"m-3",children:[Object(d.jsx)(i.a.Label,{children:"Caracola"}),Object(d.jsx)(i.a.Control,{name:"caracola",type:"number",placeholder:"Caracola",onChange:f,disabled:x.caracola})]}),Object(d.jsxs)(i.a.Group,{className:"m-3",children:[Object(d.jsx)(i.a.Label,{children:"Vuelo"}),Object(d.jsx)(i.a.Control,{name:"vuelo",type:"number",placeholder:"Vuelo",onChange:f,disabled:x.vuelo})]})]})]})})},b=(t(32),t(42)),u=function(e){return Object(d.jsx)("div",{className:"d-flex justify-content-center p-5",children:Object(d.jsxs)("table",{className:"table text-white",children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{children:[Object(d.jsxs)("th",{scope:"col",children:[" ",e.dynamic?"Cliente":"#"]}),Object(d.jsx)("th",{scope:"col",children:"Total"}),Object(d.jsx)("th",{scope:"col",children:"Lona"}),Object(d.jsx)("th",{scope:"col",children:"Enrolle"}),Object(d.jsx)("th",{scope:"col",children:"Caracola"}),Object(d.jsx)("th",{scope:"col",children:"Vuelo"}),Object(d.jsx)("th",{scope:"col",children:"Eliminar"})]})}),Object(d.jsx)("tbody",{children:e.dynamic?e.data.map((function(a){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:a.cliente}),Object(d.jsx)("td",{children:a.total}),Object(d.jsx)("td",{children:a.lona}),Object(d.jsx)("td",{children:a.enrolle}),Object(d.jsx)("td",{children:a.caracola}),Object(d.jsx)("td",{children:a.vuelo}),Object(d.jsx)("td",{children:Object(d.jsx)(b.a,{variant:"danger",onClick:function(){return e.removeData(a.id)},children:"X"})})]})})):Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{scope:"row",children:"1"}),Object(d.jsx)("td",{children:e.total}),Object(d.jsx)("td",{children:e.lona}),Object(d.jsx)("td",{children:e.enrolle}),Object(d.jsx)("td",{children:e.caracola}),Object(d.jsx)("td",{children:e.vuelo})]})})]})})},h=(t(33),function(e){var a=Object(c.useState)(""),t=Object(r.a)(a,2),n=t[0],l=t[1];return Object(d.jsxs)("div",{className:"d-flex flex-column justify-content align-items-center m-3",children:[Object(d.jsxs)(i.a.Group,{className:"m-3 cliente",children:[Object(d.jsx)(i.a.Label,{children:"Cliente"}),Object(d.jsx)(i.a.Control,{id:"cliente",name:"cliente",type:"text",placeholder:"Cliente",onChange:function(e){var a=e.target.value.trim()||"";l(a)}}),Object(d.jsx)(i.a.Control.Feedback,{type:"invalid",children:"Por favor introduce un nombre."})]}),Object(d.jsx)(b.a,{className:"btnSave",variant:"danger",onClick:function(a){var t=document.getElementById("cliente");n?(e.saveData(n),t.classList.contains("is-invalid")&&t.classList.remove("is-invalid")):!t.classList.contains("is-invalid")&&t.classList.add("is-invalid"),e.loadData()},children:"Guardar medidas"})]})}),O=t(11),x=(t(35),{apiKey:"AIzaSyBnqpZKhcNjFTdPiAW9ynNbwZXrpVgte9Y",authDomain:"calculator-toldos.firebaseapp.com",databaseURL:"https://calculator-toldos-default-rtdb.europe-west1.firebasedatabase.app",projectId:"calculator-toldos",storageBucket:"calculator-toldos.appspot.com",messagingSenderId:"500373419081",appId:"1:500373419081:web:f83f80bb19a541c5e33b98",measurementId:"G-EWT3EQVTZ2"});var m=function(){var e=Object(c.useState)({total:0,lona:0,enrolle:0,caracola:0,vuelo:0}),a=Object(r.a)(e,2),t=a[0],n=a[1],l=Object(c.useState)({}),o=Object(r.a)(l,2),i=o[0],b=o[1],m=Object(c.useState)([]),f=Object(r.a)(m,2),p=f[0],v=f[1],g=function(){v([]),O.a.database().ref("history").once("value").then((function(e){var a=[],t=e.toJSON();t&&Object.keys(t).forEach((function(e){var c=t[e];c.id=e,a.push(c)})),v(a)}))};return Object(c.useEffect)((function(){!function(){if(!O.a.apps.length)try{O.a.initializeApp(x)}catch(e){console.error("Firebase initialization error raised",e.stack)}}(),O.a.database().ref("config").once("value").then((function(e){b(e.toJSON())})),g()}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{setDatos:n,data:t,runData:function(e,a,t){var c={total:0,lona:0,enrolle:0,caracola:0,vuelo:0},n=Object(s.a)({},i[e][a]);return Object.keys(n).forEach((function(e){t>0?n[e]=+n[e]+t:n=c})),n},config:i}),Object(d.jsx)(u,{className:"table",dynamic:!1,total:t.total,lona:t.lona,enrolle:t.enrolle,caracola:t.caracola,vuelo:t.vuelo}),Object(d.jsx)(h,{saveData:function(e){var a=Object(s.a)({},t);a&&!Object.values(a).some((function(e){return e<=0}))&&e&&(a.cliente=e,O.a.database().ref("history").push(a))},loadData:g}),Object(d.jsx)(u,{className:"table",dynamic:!0,data:p,removeData:function(e){if(e){var a=O.a.database().ref("history").child(e);console.log(e),console.log(a.key),a.remove().then((function(){return g()}))}}})]})},f=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,43)).then((function(a){var t=a.getCLS,c=a.getFID,n=a.getFCP,l=a.getLCP,o=a.getTTFB;t(e),c(e),n(e),l(e),o(e)}))};t(39);o.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),f()}},[[40,1,2]]]);
//# sourceMappingURL=main.dbef9a7f.chunk.js.map